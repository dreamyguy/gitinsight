import impactBy from "./impactBy";

const commits = [
  {
    repository: "BetterDeepDuplicate.git",
    commit_nr: 1,
    commit_hash: "03677b33d94cb95402c4d9e420c922c1c1a64edd",
    author_name: "Nils Norman Hauk√•s",
    author_email: "mail@nilsnh.no",
    author_date: "Wed Sep 25 22:49:18 2019 +0200",
    author_date_relative: "1 year, 3 months ago",
    author_date_unix_timestamp: "1569444558",
    author_date_iso_8601: "2019-09-25 22:49:18 +0200",
    subject: "initial commit",
    subject_sanitized: "initial-commit",
    stats: " 15 files changed, 811 insertions(+)",
    time_hour: 22,
    time_minutes: 49,
    time_seconds: 18,
    time_gmt: "+0200",
    date_day_week: "Wed",
    date_month_day: 25,
    date_month_name: "Sep",
    date_month_number: 9,
    date_year: "2019",
    date_iso_8601: "2019-09-25",
    files_changed: 15,
    insertions: 811,
    deletions: 0,
    impact: 811,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 1,
    commit_hash: "f08f269b281b53b78d26e7b261e4da0f4736e98a",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Mon Aug 1 14:08:30 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470053310",
    author_date_iso_8601: "2016-08-01 14:08:30 +0200",
    subject: "first commit",
    subject_sanitized: "first-commit",
    stats: " 32 files changed, 759 insertions(+)",
    time_hour: 14,
    time_minutes: 8,
    time_seconds: 30,
    time_gmt: "+0200",
    date_day_week: "Mon",
    date_month_day: 1,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-01",
    files_changed: 32,
    insertions: 759,
    deletions: 0,
    impact: 759,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 2,
    commit_hash: "3ba73f6fd24b8ca90aef2e28955fa89898e533d0",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Mon Aug 1 14:09:13 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470053353",
    author_date_iso_8601: "2016-08-01 14:09:13 +0200",
    subject: "meteor files",
    subject_sanitized: "meteor-files",
    stats: " 8 files changed, 120 insertions(+)",
    time_hour: 14,
    time_minutes: 9,
    time_seconds: 13,
    time_gmt: "+0200",
    date_day_week: "Mon",
    date_month_day: 1,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-01",
    files_changed: 8,
    insertions: 120,
    deletions: 0,
    impact: 120,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 3,
    commit_hash: "0fc8bf5b014de13324fa07458d83cae47aae5c96",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Mon Aug 1 15:37:18 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470058638",
    author_date_iso_8601: "2016-08-01 15:37:18 +0200",
    subject: "endre abonnement grunnstruktur",
    subject_sanitized: "endre-abonnement-grunnstruktur",
    stats: " 3 files changed, 71 insertions(+)",
    time_hour: 15,
    time_minutes: 37,
    time_seconds: 18,
    time_gmt: "+0200",
    date_day_week: "Mon",
    date_month_day: 1,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-01",
    files_changed: 3,
    insertions: 71,
    deletions: 0,
    impact: 71,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 4,
    commit_hash: "12480bee0366922f2376d7789707d68c1ff1f49f",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Mon Aug 1 15:52:24 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470059544",
    author_date_iso_8601: "2016-08-01 15:52:24 +0200",
    subject: "logic",
    subject_sanitized: "logic",
    stats: " 2 files changed, 54 insertions(+), 51 deletions(-)",
    time_hour: 15,
    time_minutes: 52,
    time_seconds: 24,
    time_gmt: "+0200",
    date_day_week: "Mon",
    date_month_day: 1,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-01",
    files_changed: 2,
    insertions: 54,
    deletions: 51,
    impact: 3,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 5,
    commit_hash: "5e3f4ed6400403ef16bb01fdc57ea387a24835f2",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 09:27:03 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470122823",
    author_date_iso_8601: "2016-08-02 09:27:03 +0200",
    subject: "styling paa endre abonnement",
    subject_sanitized: "styling-paa-endre-abonnement",
    stats: " 6 files changed, 46 insertions(+), 9 deletions(-)",
    time_hour: 9,
    time_minutes: 27,
    time_seconds: 3,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 6,
    insertions: 46,
    deletions: 9,
    impact: 37,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 6,
    commit_hash: "b2444ca0d484f98a17ade0362b117bb888239886",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 12:10:08 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470132608",
    author_date_iso_8601: "2016-08-02 12:10:08 +0200",
    subject: "basic layout",
    subject_sanitized: "basic-layout",
    stats: " 13 files changed, 284 insertions(+), 61 deletions(-)",
    time_hour: 12,
    time_minutes: 10,
    time_seconds: 8,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 13,
    insertions: 284,
    deletions: 61,
    impact: 223,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 7,
    commit_hash: "0ce38ab4e19f4bc7efa2a60cccff86d912947cca",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 12:49:53 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470134993",
    author_date_iso_8601: "2016-08-02 12:49:53 +0200",
    subject: "added logo and header",
    subject_sanitized: "added-logo-and-header",
    stats: " 23 files changed, 74 insertions(+), 120 deletions(-)",
    time_hour: 12,
    time_minutes: 49,
    time_seconds: 53,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 23,
    insertions: 74,
    deletions: 120,
    impact: -46,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 8,
    commit_hash: "7f0daecd994d1fbfa1157f9c7b15181f22d7214f",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 14:04:04 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470139444",
    author_date_iso_8601: "2016-08-02 14:04:04 +0200",
    subject: " better layout + fonts",
    subject_sanitized: "better-layout-fonts",
    stats: " 9 files changed, 62 insertions(+), 12 deletions(-)",
    time_hour: 14,
    time_minutes: 4,
    time_seconds: 4,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 9,
    insertions: 62,
    deletions: 12,
    impact: 50,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 9,
    commit_hash: "a35c05ecb91d1e5e210e56c41b6a99501282fdd9",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 14:40:55 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470141655",
    author_date_iso_8601: "2016-08-02 14:40:55 +0200",
    subject: "smjusteringer",
    subject_sanitized: "smjusteringer",
    stats: " 4 files changed, 22 insertions(+), 12 deletions(-)",
    time_hour: 14,
    time_minutes: 40,
    time_seconds: 55,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 4,
    insertions: 22,
    deletions: 12,
    impact: 10,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 10,
    commit_hash: "55ede71dd1d2c1b05d07c1355d273ed749a43d95",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 15:21:23 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470144083",
    author_date_iso_8601: "2016-08-02 15:21:23 +0200",
    subject: "fjernet statistikken",
    subject_sanitized: "fjernet-statistikken",
    stats: " 3 files changed, 24 insertions(+), 7 deletions(-)",
    time_hour: 15,
    time_minutes: 21,
    time_seconds: 23,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 3,
    insertions: 24,
    deletions: 7,
    impact: 17,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 11,
    commit_hash: "422eed1351259b64195a6d36ae259449b0f72da2",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 16:24:09 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470147849",
    author_date_iso_8601: "2016-08-02 16:24:09 +0200",
    subject: "styling menu + animation",
    subject_sanitized: "styling-menu-animation",
    stats: " 2 files changed, 62 insertions(+), 9 deletions(-)",
    time_hour: 16,
    time_minutes: 24,
    time_seconds: 9,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 2,
    insertions: 62,
    deletions: 9,
    impact: 53,
  },
  {
    repository: "Chess-min_side.git",
    commit_nr: 12,
    commit_hash: "4f484d8e39174c7f9a55f608ada749388aecbf1c",
    author_name: "Marius Hauken",
    author_email: "marius.hauken@gmail.com",
    author_date: "Tue Aug 2 16:26:47 2016 +0200",
    author_date_relative: "4 years, 4 months ago",
    author_date_unix_timestamp: "1470148007",
    author_date_iso_8601: "2016-08-02 16:26:47 +0200",
    subject: "added todo",
    subject_sanitized: "added-todo",
    stats: " 1 file changed, 1 insertion(+), 1 deletion(-)",
    time_hour: 16,
    time_minutes: 26,
    time_seconds: 47,
    time_gmt: "+0200",
    date_day_week: "Tue",
    date_month_day: 2,
    date_month_name: "Aug",
    date_month_number: 8,
    date_year: "2016",
    date_iso_8601: "2016-08-02",
    files_changed: 1,
    insertions: 1,
    deletions: 1,
    impact: 0,
  },
];

describe("impactBy", () => {
  it(`should return an 'impact' object with the specified time unit, in this case, 'date_iso_8601'`, () => {
    const testInput = impactBy(commits, "date_iso_8601");
    const testOutput = {
      "2016-08-01": 953,
      "2016-08-02": 344,
      "2019-09-25": 811,
    };
    expect(testInput).toEqual(testOutput);
  });
  it(`should return an 'impact' object with the specified time unit, in this case, 'date_iso_8601'`, () => {
    const testInput = impactBy(commits, "date_iso_8601", true);
    const testOutput = [
      { "2019-09-25": 811 },
      { "2016-08-01": 759 },
      { "2016-08-01": 120 },
      { "2016-08-01": 71 },
      { "2016-08-01": 3 },
      { "2016-08-02": 37 },
      { "2016-08-02": 223 },
      { "2016-08-02": -46 },
      { "2016-08-02": 50 },
      { "2016-08-02": 10 },
      { "2016-08-02": 17 },
      { "2016-08-02": 53 },
      { "2016-08-02": 0 },
    ];
    expect(testInput).toEqual(testOutput);
  });
  it(`should return an 'impact' object with the specified time unit, in this case, 'date_day_week'`, () => {
    const testInput = impactBy(commits, "date_day_week");
    const testOutput = {
      "2016-08-01": 953,
      "2016-08-02": 344,
      "2019-09-25": 811,
    };
    expect(testInput).toEqual(testOutput);
  });
});
